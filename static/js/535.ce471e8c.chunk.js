"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[535],{535:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var s=r(439),a=r(791),c=r(87),n=r(534),o={searchbar:"styles_searchbar__WemNa",SearchForm:"styles_SearchForm__f4eKS",SearchformButton:"styles_SearchformButton__fVqBt",searchform__input:"styles_searchform__input__LYi6s",SearchformInput:"styles_SearchformInput__tKwpo"},u=r(184),l=function(e){var t,r=e.setSearchParams,s=null!==(t=e.searchParams.get("query"))&&void 0!==t?t:"";return(0,u.jsx)("div",{className:o.searchbar,children:(0,u.jsxs)("form",{className:o.SearchForm,onSubmit:function(e){e.preventDefault();var t=e.target.elements.search.value;r({query:t})},children:[(0,u.jsx)("button",{type:"submit",className:o.SearchformButton,children:(0,u.jsx)("span",{className:o.searchform__button__label,children:"Search"})}),(0,u.jsx)("input",{className:o.searchform__input,name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",defaultValue:s})]})})},h=r(708),m=r(474),i=r(882),_=function(){var e=(0,c.lr)(),t=(0,s.Z)(e,2),r=t[0],o=t[1],_=(0,a.useState)([]),f=(0,s.Z)(_,2),p=f[0],S=f[1],d=(0,a.useState)(1),v=(0,s.Z)(d,2),x=v[0],j=v[1],y=(0,a.useState)(!1),b=(0,s.Z)(y,2),N=b[0],Z=b[1];return(0,a.useEffect)((function(){r.get("query")&&(Z(!0),S(null),(0,n.Z)("search/movie",r.get("query")).then((function(e){S(e.results),j(e.total_results),Z(!1)})).catch(console.log))}),[r]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l,{setSearchParams:o,searchParams:r}),N&&(0,u.jsx)(m.Z,{}),p&&0!==p.length&&(0,u.jsx)("section",{className:i.Z.movieList,children:(0,u.jsx)(h.Z,{movieItems:p})}),0===x&&(0,u.jsx)("div",{children:"Not found movies"})]})}}}]);
//# sourceMappingURL=535.ce471e8c.chunk.js.map